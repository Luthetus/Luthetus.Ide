@{ var viewModelSlimDisplayLocal = _viewModelSlimDisplay; }

@if (_isLoaded)
{
	if (_viewModelSlimDisplayPrevious != viewModelSlimDisplayLocal)
	{
		_viewModelSlimDisplayPrevious = viewModelSlimDisplayLocal;
		DependentComponentParameters[DictionaryKey] = viewModelSlimDisplayLocal;
	}
}

@if (ViewModelDisplayOptions is not null && _isLoaded && viewModelSlimDisplayLocal is not null)
{
	var headerComponentType = ViewModelDisplayOptions.HeaderComponentType;
    if (headerComponentType is not null)
    {
		<DynamicComponent Type="headerComponentType"
						  Parameters="DependentComponentParameters"/>
    }
}

<TextEditorViewModelSlimDisplay @ref="_viewModelSlimDisplay"
							    TextEditorViewModelKey="TextEditorViewModelKey"
                                ViewModelDisplayOptions="ViewModelDisplayOptions"/>

@if (ViewModelDisplayOptions is not null && _isLoaded && viewModelSlimDisplayLocal is not null)
{
	var footerComponentType = ViewModelDisplayOptions.FooterComponentType;
    if (footerComponentType is not null)
    {
		<DynamicComponent Type="footerComponentType"
						  Parameters="DependentComponentParameters"/>
    }
}
